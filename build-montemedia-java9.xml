<?xml version="1.0" encoding="UTF-8"?>
<project name="montemedia" default="all" basedir=".">
    <target name="init">
        <exec executable="git" outputproperty="git.revision" failifexecutionfails="false" errorproperty="">
            <arg value="describe"/>
            <arg value="--tags"/>
            <arg value="--always"/>
            <arg value="HEAD"/>
        </exec>
        <property name="version" value="${git.revision}"/>
        <property name="srcdirs" value="src/demo:src/main"/>
        <property name="classdir" value="build/classes9"/>
        <property name="docdir" value="build/javadoc9"/>
        <property name="libdir" value="lib"/>
    </target>
    <target name="clean" depends="init">
        <delete dir="${classdir}"/>
        <delete dir="${docdir}"/>
    </target>
    <target name="javadoc" depends="init">
        <mkdir dir="${docdir}" />
        <exec executable="javadoc">
            <arg value="-d"/>
            <arg value="${docdir}"/>
            <arg value="--module-source-path"/>
            <arg value="${srcdirs}"/>
            <arg value="--module"/>
            <arg value="org.monte.media"/>
        </exec>
    </target>
    <target name="compile" depends="init">
        <mkdir dir="${classdir}" />
        <javac
                destdir="${classdir}"
                debug="true"
                modulesourcepath="${srcdirs}" 
                includeantruntime="false"
        >
             <classpath>
                <fileset dir="${libdir}">
                    <include name="jai_core.jar"/>
                    <include name="jmf.jar"/>
                </fileset>
            </classpath>
           
        </javac>
    </target>
    <target name="all" depends="clean,compile,javadoc">
    </target>

</project>
